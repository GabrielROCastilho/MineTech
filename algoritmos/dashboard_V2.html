    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard de Monitoramento de Metano</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
        <style>
            :root {
                --altura-nav-bar: 70px;
                --tamanho-paragrafo: 16px;
                --cor-fundo: #f5f5f5;
                --cor-texto: #333;
                --cor-card: #ffffff;
                --cor-primaria: #3498db;
                --cor-secundaria: #2ecc71;
                --cor-perigo: #e74c3c;
                --cor-alerta: #f39c12;
                --sombra: 0 4px 10px rgba(0, 0, 0, 0.1);
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background-color: var(--cor-fundo);
                color: var(--cor-texto);
                padding-top: var(--altura-nav-bar);
            }

            /* NAVBAR */
            .nav-bar {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: var(--altura-nav-bar);
                background-color: #222;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0 20px;
                z-index: 1000;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            }

            .nav-bar a {
                font-size: 16px;
                font-weight: 500;
                text-decoration: none;
                color: #eee;
                padding: 10px 15px;
                border-radius: 4px;
                transition: all 0.3s ease;
                text-transform: capitalize;
            }

            .nav-bar a:hover {
                background-color: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            .link-nav-bar-sobre-nos, .link-nav-bar-login {
                display: flex;
                align-items: center;
            }

            .logo {
                background-image: url('/api/placeholder/50/50');
                width: 50px;
                height: 50px;
                background-size: cover;
                border-radius: 50%;
                border: 2px solid #fff;
            }

            .logo a {
                display: block;
                width: 100%;
                height: 100%;
            }

            /* CONTEÚDO GERAL */
            .container-dashboard {
                padding: 30px;
                max-width: 1400px;
                margin: 0 auto;
            }

            h2 {
                font-size: 24px;
                margin-bottom: 20px;
                color: #222;
                border-bottom: 2px solid var(--cor-primaria);
                padding-bottom: 10px;
            }

            /* PAINEL RESUMO */
            .dashboard-resumo {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 40px;
            }

            .card-resumo {
                background-color: var(--cor-card);
                border-radius: 10px;
                box-shadow: var(--sombra);
                padding: 20px;
                text-align: center;
                transition: transform 0.3s ease;
            }

            .card-resumo:hover {
                transform: translateY(-5px);
            }

            .card-resumo h3 {
                font-size: 18px;
                margin-bottom: 15px;
            }

            .valor-resumo {
                font-size: 28px;
                font-weight: bold;
                margin-bottom: 10px;
            }

            .normal {
                color: #2ecc71;
            }

            .baixo {
                color: #2ecc71;
            }

            .medio {
                color: #f39c12;
            }

            .alto {
                color: #e74c3c;
            }

            .critico {
                color: #9b59b6;
            }

            /* GRÁFICO GERAL */
            .grafico-geral {
                background-color: var(--cor-card);
                border-radius: 10px;
                box-shadow: var(--sombra);
                padding: 20px;
                margin-bottom: 40px;
            }

            .grafico-geral h2 {
                text-align: center;
                margin-bottom: 20px;
                border-bottom: none;
            }

            .grafico-container {
                position: relative;
                height: 300px;
                width: 100%;
            }

            /* FILTROS DE SETORES */
            .filtros-setor {
                display: flex;
                justify-content: center;
                margin-bottom: 30px;
            }

            .filtro-btn {
                background-color: #ddd;
                border: none;
                padding: 10px 20px;
                margin: 0 10px;
                border-radius: 30px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }

            .filtro-btn:hover {
                background-color: #ccc;
            }

            .filtro-btn.ativo {
                background-color: var(--cor-primaria);
                color: white;
            }

            .filtro-btn.setor-a {
                border-bottom: 3px solid rgba(52, 152, 219, 1);
            }

            .filtro-btn.setor-b {
                border-bottom: 3px solid rgba(231, 76, 60, 1);
            }

            .filtro-btn.setor-c {
                border-bottom: 3px solid rgba(46, 204, 113, 1);
            }

            /* SENSORES */
            .sensores-titulo {
                margin-bottom: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .sensores-contador {
                font-size: 16px;
                background-color: var(--cor-primaria);
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
            }

            .sensores {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 40px;
            }

            .sensor-card {
                background-color: var(--cor-card);
                border-radius: 10px;
                box-shadow: var(--sombra);
                padding: 20px;
                transition: transform 0.2s ease;
            }

            .sensor-card:hover {
                transform: scale(1.02);
            }

            .sensor-card h3 {
                margin-bottom: 15px;
                color: var(--cor-texto);
                font-size: 18px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .status-indicador {
                display: inline-block;
                width: 15px;
                height: 15px;
                border-radius: 50%;
                margin-left: 10px;
            }

            .status-baixo {
                background-color: #2ecc71;
            }

            .status-medio {
                background-color: #f39c12;
            }

            .status-alto {
                background-color: #e74c3c;
            }

            .status-critico {
                background-color: #9b59b6;
            }

            .sensor-info {
                display: flex;
                justify-content: space-between;
                margin-bottom: 15px;
            }

            .nivel {
                font-weight: bold;
                font-size: 18px;
            }

            .sensor-grafico {
                position: relative;
                height: 200px;
                width: 100%;
                margin-top: 15px;
            }

            /* PAGINAÇÃO */
            .paginacao {
                display: flex;
                justify-content: center;
                margin-bottom: 30px;
            }

            .pagina-btn {
                background-color: #fff;
                border: 1px solid #ddd;
                padding: 8px 16px;
                margin: 0 5px;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .pagina-btn:hover {
                background-color: #f5f5f5;
            }

            .pagina-btn.ativo {
                background-color: var(--cor-primaria);
                color: white;
                border-color: var(--cor-primaria);
            }

            /* FOOTER */
            .footer {
                background-color: #222;
                color: #eee;
                text-align: center;
                padding: 20px;
                margin-top: 40px;
            }

            /* RESPONSIVIDADE */
            @media (max-width: 768px) {
                .nav-bar {
                    flex-direction: column;
                    height: auto;
                    padding: 10px;
                }

                .link-nav-bar-sobre-nos, .link-nav-bar-login {
                    margin: 10px 0;
                    flex-wrap: wrap;
                    justify-content: center;
                }

                .nav-bar a {
                    margin: 5px;
                }

                .logo {
                    margin: 10px 0;
                }

                .container-dashboard {
                    padding: 15px;
                }

                .dashboard-resumo {
                    grid-template-columns: 1fr;
                }

                .filtros-setor {
                    flex-wrap: wrap;
                }

                .filtro-btn {
                    margin: 5px;
                }
            }
        </style>
    </head>
    <body>
        <!-- NAVBAR -->
        <div class="nav-bar">
            <div class="link-nav-bar-sobre-nos">
                <a href="#quem-somos">Quem Somos</a>
                <a href="#servicos">Nossos Serviços</a>
                <a href="#calculadora-financeira">Calculadora Financeira</a>
                <a href="#fale-conosco">Fale Conosco</a>
            </div>
            <div class="logo"><a href="#home-page"></a></div>
            <div class="link-nav-bar-login">
                <a href="login.html" target="_blank">Login</a>
                <a href="cadastro_funcionario.html" target="_blank">Cadastro</a>
            </div>
        </div>
        
        <!-- CONTEÚDO PRINCIPAL -->
        <div class="container-dashboard">
            <h2>Dashboard de Monitoramento de Metano</h2>
            
            <!-- Resumo -->
            <section class="dashboard-resumo">
                <div class="card-resumo">
                    <h3>Média Geral</h3>
                    <div class="valor-resumo medio">0.65</div>
                    <p>Variação: +0.12 (24h)</p> 
                </div>
                <div class="card-resumo">
                    <h3>Setor Crítico</h3>
                    <div class="valor-resumo alto">Setor B</div>
                    <p>PPM: 0.92 (limite: 0.80)</p>
                </div>
                <div class="card-resumo">
                    <h3>Status do Sistema</h3>
                    <div class="valor-resumo medio">Alerta</div>
                    <p>3 sensores em nível crítico</p>
                </div>
                <div class="card-resumo">
                    <h3>Última Atualização</h3>
                    <div class="valor-resumo baixo">12:45</div>
                    <p>23/04/2025</p>
                </div>
            </section>
        
            <!-- Gráfico Geral -->
            <section class="grafico-geral">
                <h2>Visão Geral dos Setores</h2>
                <div class="grafico-container">
                    <canvas id="grafico_geral"></canvas>
                </div>
            </section>
        
            <!-- Filtros de Setor -->
            <div class="filtros-setor">
                <button class="filtro-btn setor-a ativo" data-setor="todos">Todos os Setores</button>
                <button class="filtro-btn setor-a" data-setor="A">Setor A</button>
                <button class="filtro-btn setor-b" data-setor="B">Setor B</button>
                <button class="filtro-btn setor-c" data-setor="C">Setor C</button>
            </div>
        
            <!-- Sensores Individuais -->
            <div class="sensores-titulo">
                <h2>Níveis de Metano por Sensor</h2>
                <span class="sensores-contador">Mostrando: <span id="contador-sensores">15</span> sensores</span>
            </div>
            
            <section class="sensores" id="sensores-container">
                <!-- Os sensores serão inseridos dinamicamente pelo JavaScript -->
            </section>

            <!-- Paginação -->
            <div class="paginacao" id="paginacao">
                <!-- Botões de paginação serão gerados pelo JavaScript -->
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 Sistema de Monitoramento de Metano. Todos os direitos reservados.</p>
        </footer>
        
        <script>
            // Configuração de cores
            const coresPrimarias = {
                A: 'rgba(52, 152, 219, 0.7)',
                B: 'rgba(231, 76, 60, 0.7)',
                C: 'rgba(46, 204, 113, 0.7)'
            };
            
            const coresBorda = {
                A: 'rgba(52, 152, 219, 1)',
                B: 'rgba(231, 76, 60, 1)',
                C: 'rgba(46, 204, 113, 1)'
            };

            // Configuração de mapa de calor
            function getStatusColor(valor) {
                if (valor <= 0.25) return 'baixo';
                if (valor <= 0.50) return 'medio';
                if (valor <= 0.75) return 'alto';
                return 'critico';
            }

            function getHeatMapColor(valor) {
                if (valor <= 0.25) return 'rgba(46, 204, 113, 1)'; // Verde
                if (valor <= 0.50) return 'rgba(243, 156, 18, 1)'; // Amarelo/Laranja
                if (valor <= 0.75) return 'rgba(231, 76, 60, 1)';  // Vermelho
                return 'rgba(155, 89, 182, 1)';                   // Roxo
            }
            
            // Dados para o gráfico geral
            const ctxGeral = document.getElementById('grafico_geral').getContext('2d');
            const graficoGeral = new Chart(ctxGeral, {
                type: 'line',
                data: {
                    labels: ['10:00', '10:01', '10:02', '10:03', '10:04', '10:05', '10:06', '10:07', '10:08'],
                    datasets: [
                        {
                            label: 'Setor A',
                            data: [0.45, 0.48, 0.52, 0.55, 0.58, 0.62, 0.64, 0.61, 0.60],
                            backgroundColor: coresPrimarias.A,
                            borderColor: coresBorda.A,
                            borderWidth: 2,
                            tension: 0.3
                        },
                        {
                            label: 'Setor B',
                            data: [0.60, 0.65, 0.70, 0.76, 0.80, 0.85, 0.88, 0.90, 0.85],
                            backgroundColor: coresPrimarias.B,
                            borderColor: coresBorda.B,
                            borderWidth: 2,
                            tension: 0.3
                        },
                        {
                            label: 'Setor C',
                            data: [0.30, 0.32, 0.35, 0.38, 0.40, 0.42, 0.41, 0.40, 0.38],
                            backgroundColor: coresPrimarias.C,
                            borderColor: coresBorda.C,
                            borderWidth: 2,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Concentração de Metano (escala 0-1)'
                            },
                            min: 0,
                            max: 1,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Hora do Dia'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    }
                }
            });

            // Base para gerar dados aleatórios para sensores
            function gerarDadosSensor(media, variacao) {
                const dados = [];
                for (let i = 0; i < 6; i++) {
                    // Garantir que o valor fique entre 0 e 1
                    let valor = media + (Math.random() * variacao * 2 - variacao);
                    valor = Math.max(0, Math.min(1, valor));
                    // Arredondar para duas casas decimais
                    dados.push(Math.round(valor * 100) / 100);
                }
                return dados;
            }

            // Gerar dados para todos os sensores
            const dadosSensores = {
                A: [],
                B: [],
                C: []
            };

            // Valores base para cada setor
            const valorBase = {
                A: 0.10,
                B: 0.10,
                C: 0.00
            };

            // Gerar 5 sensores para cada setor
            for (let i = 1; i <= 4; i++) {
                // Setor A - em níveis médios (cerca de 0.60)
                const dadosA = gerarDadosSensor(valorBase.A, 0.15);
                const valorAtualA = dadosA[dadosA.length - 1];
                dadosSensores.A.push({
                    id: `A-${i}`,
                    nome: `Sensor ${i} - Setor A`,
                    nivel: valorAtualA,
                    historico: dadosA,
                    status: getStatusColor(valorAtualA)
                });
                
                // Setor B - em níveis altos (cerca de 0.80)
                const dadosB = gerarDadosSensor(valorBase.B, 0.15);
                const valorAtualB = dadosB[dadosB.length - 1];
                dadosSensores.B.push({
                    id: `B-${i}`,
                    nome: `Sensor ${i} - Setor B`,
                    nivel: valorAtualB,
                    historico: dadosB,
                    status: getStatusColor(valorAtualB)
                });
            }

            const dadosC = gerarDadosSensor(valorBase.C, 1);
            const valorAtualC = dadosC[dadosC.length - 1];
            dadosSensores.C.push({
            id: `C-${1}`,
            nome: `Sensor ${1} - Setor C`,
            nivel: valorAtualC,
            historico: dadosC,
            status: getStatusColor(valorAtualC)
});


            // Variáveis para controle da listagem de sensores
            let setorAtual = 'todos';
            let paginaAtual = 1;
            const sensoresPorPagina = 8;
            
            // Função para criar um card de sensor
            function criarCardSensor(sensor) {
                const div = document.createElement('div');
                div.className = 'sensor-card';
                div.dataset.setor = sensor.id.split('-')[0];
                
                div.innerHTML = `
                    <h3>${sensor.nome} <span class="status-indicador status-${sensor.status}"></span></h3>
                    <div class="sensor-info">
                        <p>Nível atual: <span class="nivel ${sensor.status}">${sensor.nivel}</span></p>
                        <p>Limite: 0.80</p>
                    </div>
                    <div class="sensor-grafico">
                        <canvas id="sensor_${sensor.id}"></canvas>
                    </div>
                `;
                
                return div;
            }
            
            // Função para criar e configurar o gráfico de um sensor com coloração de calor
            function configurarGraficoSensor(sensorId, dados, corBase) {
                const ctx = document.getElementById(`sensor_${sensorId}`).getContext('2d');
                
              // Criar gradiente para representar o mapa de calor com cores aprimoradas
              const gradientFill = ctx.createLinearGradient(0, 0, 0, 200);
              gradientFill.addColorStop(0, 'rgba(255, 99, 132, 0.8)');   // Rosa avermelhado (crítico)
              gradientFill.addColorStop(0.25, 'rgba(255, 159, 64, 0.8)'); // Laranja vibrante
              gradientFill.addColorStop(0.5, 'rgba(255, 205, 86, 0.8)');  // Amarelo suave
              gradientFill.addColorStop(0.75, 'rgba(75, 192, 192, 0.8)'); // Verde água (tranquilo)
              gradientFill.addColorStop(1, 'rgba(54, 162, 235, 0.8)');    // Azul (muito tranquilo)

                
                // Array de cores da borda baseada nos valores
                const borderColors = dados.map(valor => getHeatMapColor(valor));
                
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['10:00', '10:01', '10:02', '10:03', '10:04', '10:05'],
                        datasets: [{
                            label: 'Nível de Metano',
                            data: dados,
                            backgroundColor: gradientFill,
                            borderColor: dados.map(valor => getHeatMapColor(valor)),
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true,
                            pointBackgroundColor: dados.map(valor => getHeatMapColor(valor)),
                            pointBorderColor: '#fff',
                            pointRadius: 5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                min: 0,
                                max: 1,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            }
                        }
                    }
                });
            }
            
            // Função para exibir os sensores com base no setor selecionado e na página atual
            function exibirSensores() {
                const container = document.getElementById('sensores-container');
                container.innerHTML = '';
                
                // Selecionar os sensores pelo setor
                let sensoresFiltrados = [];
                if (setorAtual === 'todos') {
                    sensoresFiltrados = [...dadosSensores.A, ...dadosSensores.B, ...dadosSensores.C];
                } else {
                    sensoresFiltrados = dadosSensores[setorAtual];
                }
                
                // Atualizar o contador de sensores
                document.getElementById('contador-sensores').textContent = sensoresFiltrados.length;
                
                // Calcular índices para paginação
                const inicio = (paginaAtual - 1) * sensoresPorPagina;
                const fim = Math.min(inicio + sensoresPorPagina, sensoresFiltrados.length);
                const sensoresPagina = sensoresFiltrados.slice(inicio, fim);
                
                // Criar e adicionar cards de sensores
                sensoresPagina.forEach(sensor => {
                    const card = criarCardSensor(sensor);
                    container.appendChild(card);
                    
                    // Setor do sensor
                    const setor = sensor.id.split('-')[0];
                    
                    // Configurar gráfico do sensor
                    setTimeout(() => {
                        configurarGraficoSensor(
                            sensor.id, 
                            sensor.historico, 
                            coresPrimarias[setor]
                        );
                    }, 10);
                });
                
                // Atualizar a paginação
                atualizarPaginacao(sensoresFiltrados.length);
            }
            
            // Função para atualizar os botões de paginação
            function atualizarPaginacao(totalSensores) {
                const paginacao = document.getElementById('paginacao');
                paginacao.innerHTML = '';
                
                const totalPaginas = Math.ceil(totalSensores / sensoresPorPagina);
                
                // Botão Anterior
                if (totalPaginas > 1) {
                    const btnAnterior = document.createElement('button');
                    btnAnterior.className = 'pagina-btn';
                    btnAnterior.textContent = '«';
                    btnAnterior.disabled = paginaAtual === 1;
                    btnAnterior.addEventListener('click', () => {
                        if (paginaAtual > 1) {
                            paginaAtual--;
                            exibirSensores();
                        }
                    });
                    paginacao.appendChild(btnAnterior);
                    
                    // Botões numerados
                    for (let i = 1; i <= totalPaginas; i++) {
                        const btn = document.createElement('button');
                        btn.className = `pagina-btn ${i === paginaAtual ? 'ativo' : ''}`;
                        btn.textContent = i;
                        btn.addEventListener('click', () => {
                            paginaAtual = i;
                            exibirSensores();
                        });
                        paginacao.appendChild(btn);
                    }
                    
                    // Botão Próximo
                    const btnProximo = document.createElement('button');
                    btnProximo.className = 'pagina-btn';
                    btnProximo.textContent = '»';
                    btnProximo.disabled = paginaAtual === totalPaginas;
                    btnProximo.addEventListener('click', () => {
                        if (paginaAtual < totalPaginas) {
                            paginaAtual++;
                            exibirSensores();
                        }
                    });
                    paginacao.appendChild(btnProximo);
                }
            }
            
            // Configurar filtros de setor
            document.querySelectorAll('.filtro-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remover classe ativo de todos os botões
                    document.querySelectorAll('.filtro-btn').forEach(b => b.classList.remove('ativo'));
                    
                    // Adicionar classe ativo ao botão clicado
                    btn.classList.add('ativo');
                    
                    // Atualizar setor selecionado
                    setorAtual = btn.dataset.setor;
                    
                    // Resetar página para 1
                    paginaAtual = 1;
                    
                    // Atualizar exibição de sensores
                    exibirSensores();
                });
            });
            
            // Iniciar a exibição com todos os sensores na página 1
            window.addEventListener('load', () => {
                exibirSensores();
            });
        </script>
    </body>
    </html>
