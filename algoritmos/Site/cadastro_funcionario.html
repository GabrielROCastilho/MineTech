<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Cadastro Funcionário</title>
</head>

<body class="body_cadastro">
    <div class="container_cadastro">
        <div class="img_logo_cadastro"></div>
        <div class="form_cadastro">
            <h1>CADASTRO | MineTech</h1>
            <input type="text" id="ipt_inserirChaveEmpresa" placeholder="CNPJ"><br>
            <input type="text" id="ipt_nomeFuncionario" placeholder="Nome"><br>
            <input type="text" id="ipt_sobrenomeFuncionario" placeholder="Sobrenome"><br>
            <input type="email" id="ipt_email" placeholder="Email de Contato"><br>
            <input type="text" id="ipt_telefone" placeholder="Telefone de Contato"><br>
            <input type="password" id="ipt_senhaFunc" placeholder="Senha"><br>
            <input type="password" id="ipt_confirmarSenhaFunc" placeholder="Confirmar Senha"><br>
            <button onclick="cadastro()" class="btn_cadastro">CADASTRO FUNCIONÁRIO</button>
            <div id="div_resposta3"></div>
        </div>
    </div>
</body>
<script>

    function cadastro() {

        var chaveEmpresa = ipt_inserirChaveEmpresa.value;
        var nomeFuncionario = ipt_nomeFuncionario.value;
        var email = ipt_email.value;
        var telefone = ipt_telefone.value;
        var senhaFunc = ipt_senhaFunc.value;
        var confirmarSenhaFunc = ipt_confirmarSenhaFunc.value;
        var sobrenomeFuncionario = ipt_sobrenomeFuncionario.value;
        var codigoFuncionario = '1000';
        
        
        // Validando senha 
        if (senhaFunc != confirmarSenhaFunc) {

            alert("Senha confirmada diferente da senha inserida, faça novamente")

        } // Validando se todos os campos foram preenchidos 
        else if (chaveEmpresa == '' || nomeFuncionario == '' || email == '' || telefone == '' || senhaFunc == '' || confirmarSenhaFunc == '' || sobrenomeFuncionario == '') {

            alert("Preencha todos os campos")

        } // Validando se a chave empresa existe
         else if (chaveEmpresa != '0302'){

            alert("Esta empresa não está cadastrada")

        }
         // Validando telefone
        else if(telefone.length != 11){
            alert("Número de telefone inválido! Insira o DDD também (sem parênteses)")
        } // Validando funcionário
        else {

            var numero = prompt("Enviamos um código de verificação no seu E-mail, insira-o abaixo: ")

            while (numero != codigoFuncionario) {
                numero = prompt("Você não digitou a chave correta")
            }

            if (numero == codigoFuncionario) {

                alert(`Cadastro concluído com sucesso! Agora a(o) ${nomeFuncionario} ${sobrenomeFuncionario} é um(a) Minetecher!!! `)

                div_resposta3.innerHTML = `<a href="login.html">Entrar</a>`
            }

        }

    }

</script>

</html>
